# Парсер книг сайта tululu.org
Консольная утилита-парсер онлайн-библиотеки [tululu](http://tululu.org). Основное назначение - собирать информацию о книгах жанра ["Фантастика"](https://tululu.org/l55/) в `*.json` файл. По желанию можно настроить диапазон страниц для парсинга, уточнить скачивать/не скачивать книги(`*.txt`) и их обложки, и где сохранять полученные данные.

## Как установить

У вас уже должен быть установлен `python3`, `pip`, `virtualenv` - или иной пакет для создания виртуального окружения.

- Скачайте код
- Создайте и активируйте виртуальное окружение:
```bash
$ virtualenv venv
$ source venv/bin/activate
```
- Установите зависимости командой:
```bash
$ pip install -r requirements.txt
```

## Аргументы и запуск
Подробную информации об аргументах командой строки можно получить, попросив подсказку:
```python3
$ ./parse_tululu_category.py --help
```

Есть 6 аргументов командной строки:

### Обязательный
- `--start_id` - номер страницы, с которой начать скачивание книг

### Необязательные
- `--end_id` -  номер страницы, до которой скачивать книги (default = start_id + 1)
- `--dest_folder` - путь к каталогу с результатами парсинга: картинкам, книгам, JSON (default = pwd)
- `--skip_img` - если указан этот флаг, обложки книг скачиваться не будут (default = False)
- `--start_id` - если указан этот флаг, книги(.txt) скачиваться не будут (default = False)
- `--json_path` — указать свой путь к .json файлу с результатами (default = pwd)

### Пример запуска скрипта:
```python3
$ ./parse_tululu_category.py --start_id 10 --end_id 20 --dest_folder /mnt/c/Users/XXXXX/Desktop/ --skip_img --json_path /mnt/c/Users/XXXXX/Desktop/Results2022/
```
Вывод в терминал:

![image](https://user-images.githubusercontent.com/77130336/194813720-abafa3b1-8df2-4275-b0ec-90bfdf7b1b54.png)

В терминале выводятся ссылки на книги библиотеки, которые были пропарсены. И сообщение о редиректе, в случае отсутствия ссылки на скачивание книги. 

## Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
